(this.webpackJsonpposenet=this.webpackJsonpposenet||[]).push([[0],{71:function(e,t,n){e.exports=n(98)},76:function(e,t,n){},77:function(e,t,n){},81:function(e,t){},82:function(e,t){},93:function(e,t){},96:function(e,t){},97:function(e,t){},98:function(e,t,n){"use strict";n.r(t);var o=n(22),i=n.n(o),a=n(51),r=n.n(a),s=(n(76),n(77),n(2)),c=n.n(s),u=n(10),l=n(7),d=n(35),p=n(47),m=n.n(p);n(70);function f(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)}function h(e){return[e.y,e.x]}function v(e,t,n,o,i){e.beginPath(),e.arc(n,t,o,0,2*Math.PI),e.fillStyle=i,e.fill()}function g(e,t,n,o,i){var a=Object(l.a)(e,2),r=a[0],s=a[1],c=Object(l.a)(t,2),u=c[0],d=c[1];i.beginPath(),i.moveTo(s*o,r*o),i.lineTo(d*o,u*o),i.lineWidth=2,i.strokeStyle=n,i.stroke()}function w(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=d.a(e,t);i.forEach((function(e){g(h(e[0].position),h(e[1].position),"aqua",o,n)}))}function P(e,t,n){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=0;i<e.length;i++){var a=e[i];if(!(a.score<t)){var r=a.position,s=r.y,c=r.x;v(n,s*o,c*o,3,"aqua")}}}function y(e,t){var n=d.b(e);t.rect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.strokeStyle="red",t.stroke()}f(),new m.a;var b=new m.a;function x(){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(c.a.mark((function e(){var t,n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return(t=document.getElementById("video")).width=600,t.height=500,n=f(),e.next=8,navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"user",width:n?void 0:600,height:n?void 0:500}});case 8:return o=e.sent,t.srcObject=o,e.abrupt("return",new Promise((function(e){t.onloadedmetadata=function(){e(t)}})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:return(t=e.sent).play(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B={algorithm:"multi-pose",input:{architecture:"MobileNetV1",outputStride:16,inputResolution:500,multiplier:f()?.5:.75,quantBytes:2},singlePoseDetection:{minPoseConfidence:.1,minPartConfidence:.5},multiPoseDetection:{maxPoseDetections:5,minPoseConfidence:.15,minPartConfidence:.1,nmsRadius:30},output:{showVideo:!0,showSkeleton:!0,showPoints:!0,showBoundingBox:!1},net:null};function M(){b.showPanel(0),document.getElementById("main").appendChild(b.dom)}function C(e,t){var n=document.getElementById("output"),o=n.getContext("2d");function i(){return a.apply(this,arguments)}function a(){return(a=Object(u.a)(c.a.mark((function t(){var n,a,r,s,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.begin(),n=[],t.t0=B.algorithm,t.next="single-pose"===t.t0?5:"multi-pose"===t.t0?12:19;break;case 5:return t.next=7,B.net.estimatePoses(e,{flipHorizontal:!0,decodingMethod:"single-person"});case 7:return s=t.sent,n=n.concat(s),a=+B.singlePoseDetection.minPoseConfidence,r=+B.singlePoseDetection.minPartConfidence,t.abrupt("break",19);case 12:return t.next=14,B.net.estimatePoses(e,{flipHorizontal:!0,decodingMethod:"multi-person",maxDetections:B.multiPoseDetection.maxPoseDetections,scoreThreshold:B.multiPoseDetection.minPartConfidence,nmsRadius:B.multiPoseDetection.nmsRadius});case 14:return u=t.sent,n=n.concat(u),a=+B.multiPoseDetection.minPoseConfidence,r=+B.multiPoseDetection.minPartConfidence,t.abrupt("break",19);case 19:console.log(n),o.clearRect(0,0,600,500),B.output.showVideo&&(o.save(),o.scale(-1,1),o.translate(-600,0),o.drawImage(e,0,0,600,500),o.restore()),n.forEach((function(e){var t=e.score,n=e.keypoints;t>=a&&(B.output.showPoints&&P(n,r,o),B.output.showSkeleton&&w(n,r,o),B.output.showBoundingBox&&y(n,o))})),b.end(),requestAnimationFrame(i);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n.width=600,n.height=500,i()}function I(){return(I=Object(u.a)(c.a.mark((function e(){var t,n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.c({architecture:B.input.architecture,outputStride:B.input.outputStride,inputResolution:B.input.inputResolution,multiplier:B.input.multiplier,quantBytes:B.input.quantBytes});case 2:return t=e.sent,e.prev=3,e.next=6,D();case 6:n=e.sent,e.next=15;break;case 9:throw e.prev=9,e.t0=e.catch(3),(o=document.getElementById("info")).textContent="this browser does not support video capture,or this device does not have a camera",o.style.display="block",e.t0;case 15:B.net=t,M(),C(n);case 18:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;var S=function(){return Object(o.useEffect)((function(){!function(){I.apply(this,arguments)}()})),i.a.createElement("div",{id:"main"},"Pose",i.a.createElement("video",{width:600,height:500,id:"video",style:{display:"none"},playsInline:!0}),i.a.createElement("canvas",{id:"output"}))};var j=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[71,1,2]]]);
//# sourceMappingURL=main.10654963.chunk.js.map